(this["webpackJsonpyoga-timer"]=this["webpackJsonpyoga-timer"]||[]).push([[0],{24:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(0),i=n.n(a),r=n(8),o=n.n(r),c=(n(24),n(18)),l=n(2),u=n(7),d=n(3),m=n(4),h=n(6),p=n(5),j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=60*parseInt(n)*60,a=60*parseInt(e),i=1*parseInt(t),r=(s||0)+(a||0)+(i||0);return r},b=function(e){var t=e.reduce((function(e,t){return{duration:e.duration+t.duration}}),{duration:0}).duration;return{duration:t,hours:Math.floor(t/3600),minutes:Math.floor(t/60)%60,seconds:t%60}},v=function(e){return Object(s.jsxs)(i.a.Fragment,{children:[Math.floor(e/3600)>0?"".concat(Math.floor(e/3600),":"):"",("0"+Math.floor(e/60)%60).slice(-2),":",("0"+e%60).slice(-2)]})},O=n.p+"static/media/mixkit-happy-bell-alert-601.a921a9f2.wav",f=function(e){var t=e.timerOn;return Object(s.jsxs)("div",{className:"controls",children:[Object(s.jsx)("button",{onClick:e.newTime,children:"new"}),Object(s.jsx)("h1",{children:t?"Cool Down...":"Welcome!"})]})},x=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).alertBell=function(e,t){5===e&&t.play()},e.alertUser=function(e){return e.duration<=5?"controls alert":"controls"},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.activePose,t=new Audio(O);return Object(s.jsxs)("div",{className:e?this.alertUser(e):"controls",children:[e?this.alertBell(e.duration,t):null,Object(s.jsx)("button",{onClick:this.props.pauseTimer,className:this.props.timerPause?"active":"",children:"pause"}),Object(s.jsxs)("div",{className:"current-pose",children:[Object(s.jsx)("h1",{children:e?e.name:"All Done, buddy"}),Object(s.jsx)("h2",{children:v(e?e.duration:0)})]})]})}}]),n}(i.a.Component),g=n(14),T=n.n(g),P=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).nameRef=i.a.createRef(),e.minutesRef=i.a.createRef(),e.secondsRef=i.a.createRef(),e.intervalsRef=i.a.createRef(),e.checkInput=function(e){Number.isNaN(e)},e.handleChange=function(t){var n=t.currentTarget.name,s=t.currentTarget.value;e.props.updateNewPose(s,n)},e.handleSubmit=function(t){t.preventDefault();var n=e.minutesRef.current.value,s=e.secondsRef.current.value,a=e.intervalsRef.current.value;if(""!==e.nameRef.current.value&&(""!==n||""!==s)){var i=/^[0-9\s]*$/;if(i.test(n)&&i.test(s)){var r=[],o=parseInt(a);(o<=0||!o)&&(o=1);for(var c=0;c<o;c++){var l={id:"pose".concat(T()()),name:e.nameRef.current.value,duration:j(n,s),minutes:n||0,seconds:s||0,intervals:a||1,completed:!1};r.push(l)}e.props.addNewPose(r),t.currentTarget.reset()}}},e.addBreak=function(t){t.preventDefault();var n=[{id:"pose".concat(T()()),name:"break",duration:e.props.break.duration,minutes:0,seconds:e.props.break.duration,intervals:1,completed:!1}];e.props.addNewPose(n)},e}return Object(m.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{children:"New Pose"}),Object(s.jsx)("input",{type:"text",name:"name",ref:this.nameRef,onChange:this.handleChange}),Object(s.jsx)("label",{children:"Duration"}),Object(s.jsxs)("div",{className:"entered-duration",children:[Object(s.jsx)("input",{type:"number",name:"minutes",ref:this.minutesRef,min:"0",max:"59",placeholder:"minutes",onChange:this.handleChange}),Object(s.jsx)("input",{type:"number",name:"seconds",ref:this.secondsRef,min:"0",max:"59",placeholder:"seconds",onChange:this.handleChange})]}),Object(s.jsx)("label",{children:"Intervals"}),Object(s.jsx)("input",{type:"number",name:"intervals",placeholder:"1",ref:this.intervalsRef,min:"1",max:"100",onChange:this.handleChange}),Object(s.jsxs)("div",{className:"time-controls",children:[Object(s.jsx)("button",{type:"submit",children:"submit"}),Object(s.jsx)("button",{type:"button",onClick:this.props.clearAll,children:"clear all"}),Object(s.jsx)("button",{type:"button",onClick:this.addBreak,children:"insert break"})]})]})}}]),n}(i.a.Component),k=function(e){return Object(s.jsx)("header",{children:Object(s.jsx)("h1",{onClick:e.onClick,children:"Yoga Timer"})})},S=function(e){var t=e.poses,n=t.name,a=t.duration;return Object(s.jsx)("li",Object(l.a)(Object(l.a)(Object(l.a)({ref:e.provided.innerRef},e.provided.draggableProps),e.provided.dragHandleProps),{},{children:Object(s.jsxs)("div",{className:"list-item-inner",children:[Object(s.jsxs)("div",{className:"item-controls",children:[Object(s.jsx)("span",{onClick:function(){return e.deletePose(e.index)},children:Object(s.jsx)("i",{className:"far fa-times-circle"})}),Object(s.jsx)("span",{onClick:function(){return e.movePosition(e.index,-1)},children:Object(s.jsx)("i",{className:"fas fa-chevron-up"})}),Object(s.jsx)("span",{onClick:function(){return e.movePosition(e.index,1)},children:Object(s.jsx)("i",{className:"fas fa-chevron-down"})})]}),Object(s.jsx)("h3",{children:n}),Object(s.jsxs)("p",{className:"pose-duration",children:[Math.floor(a/60),":",("0"+a%60).slice(-2)]})]})}))},N=n(11),y=function(e){var t=e.poses;return Object(s.jsx)(N.a,{onDragEnd:e.handleOnDragEnd,children:Object(s.jsx)(N.c,{droppableId:"poses",children:function(n){return Object(s.jsxs)("ul",Object(l.a)(Object(l.a)({id:"list"},n.droppableProps),{},{ref:n.innerRef,children:[t.map((function(t,n){return void 0===t?"":Object(s.jsx)(N.b,{draggableId:t.id,index:n,children:function(t){return Object(s.jsx)(S,{provided:t,index:n,poses:e.poses[n],deletePose:e.deletePose,movePosition:e.movePosition})}},t.id)})),n.placeholder]}))}})})},C=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).hoursRef=i.a.createRef(),e.minutesRef=i.a.createRef(),e.secondsRef=i.a.createRef(),e.handleChange=function(t){var n=t.currentTarget.name,s=t.currentTarget.value;e.props.updateTime(s,n)},e.handleSubmit=function(t){t.preventDefault();var n=e.hoursRef.current.value,s=e.minutesRef.current.value,a=e.secondsRef.current.value;if(!(isNaN(n)||isNaN(s)||isNaN(a))&&(""!==n||""!==s||""!==a)){var i={duration:j(s,a,n),hours:n||0,minutes:s||0,seconds:a||0,set:!0};e.props.setTime(i),t.currentTarget.reset()}},e}return Object(m.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("form",{className:"total-duration",onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{children:"Total Duration"}),Object(s.jsxs)("div",{className:"entered-duration",children:[Object(s.jsx)("input",{type:"number",name:"hours",ref:this.hoursRef,min:"0",max:"23",placeholder:"hours",onChange:this.handleChange}),Object(s.jsx)("input",{type:"number",name:"minutes",ref:this.minutesRef,min:"0",max:"59",placeholder:"minutes",onChange:this.handleChange}),Object(s.jsx)("input",{type:"number",name:"seconds",ref:this.secondsRef,min:"0",max:"59",placeholder:"seconds",onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"time-controls",children:[Object(s.jsx)("button",{type:"submit",children:"Set"}),this.props.timerStop?Object(s.jsx)("button",{type:"button",onClick:this.props.continueTimer,children:"Continue"}):null]})]})}}]),n}(i.a.Component),w=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"total-duration countdown",children:[Object(s.jsx)("h1",{children:this.props.time.duration>0?v(this.props.time.duration):"Done!"}),this.props.time.duration>0?Object(s.jsxs)("div",{className:"time-controls",children:[Object(s.jsx)("button",{onClick:this.props.startTimer,disabled:!!this.props.timerOn,children:"start"}),Object(s.jsx)("button",{onClick:this.props.resetTimer,children:"reset"}),Object(s.jsx)("button",{onClick:this.props.stopTime,children:"stop"}),Object(s.jsx)("button",{onClick:this.props.newTime,children:"new"})]}):Object(s.jsxs)("div",{className:"time-controls",children:[Object(s.jsx)("button",{onClick:this.props.resetTimer,children:"restart"}),Object(s.jsx)("button",{onClick:this.props.newTime,children:"new"})]})]})}}]),n}(i.a.Component),R=n.p+"static/media/max-fGUmhLROnPc-unsplash.21e10ba6.jpg",I=n.p+"static/media/fabian-blank-pElSkGRA2NU-unsplash.a683aabc.jpg",A=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).isActiveTimer=function(){e.isActive(),e.activeTimer=setInterval((function(){if(!e.state.timerPause){var t=Object(u.a)(e.state.poses);if(void 0!==t){var n=t[0];n.duration--,e.setState({poses:t}),n.duration<0&&(t.shift(),e.isActive()),0===t.length&&(clearInterval(e.activeTimer),e.setState({activePose:{},activeTimerOn:!1}))}}}),1e3)},e.isActive=function(){e.setState({activePose:e.state.poses[0],activeTimerOn:!0})},e.changeBackground=function(){var t=e.state.backgrounds;t.change=!t.change,t.change?t.image=I:t.image=R,e.setState({backgrounds:t})},e.saveStart=function(){var t=Object(u.a)(e.state.poses),n=[];t.forEach((function(e){var t=Object(l.a)({},e);n.push(t)}));var s=Object(l.a)({},e.state.time);e.setState({OGposes:n,OGtime:s})},e.startTimer=function(){e.saveStart(),0!==e.state.time.duration&&(e.isActiveTimer(),e.setState({timerOn:!0}),e.timer=setInterval((function(){var t=e.state.time;t.duration=e.state.time.duration-1,t.duration>0?e.setState({time:t}):(clearInterval(e.timer),e.setState({timerOn:!1}))}),1e3))},e.pauseTimer=function(){var t=!e.state.timerPause;e.setState({timerPause:t})},e.updateTime=function(t,n){var s=Object(l.a)({},e.state.time);s[n]=t,e.setState({time:s})},e.setTime=function(t){e.setState({time:t})},e.stopTime=function(){var t=e.state.time;t.set=!t.set,clearInterval(e.timer),clearInterval(e.activeTimer),e.setState({time:t,timerOn:!1,timerStop:!0})},e.newTime=function(){clearInterval(e.timer),clearInterval(e.activeTimer);var t=e.state.time;t.set=!1,e.setState({time:t,timerOn:!1,poses:[{id:"intro",name:"countdown",duration:10,minutes:0,seconds:10,intervals:1,completed:!1}],intervalTotalTime:{duration:10,hours:0,minutes:0,seconds:10}})},e.clearAll=function(){e.setState({poses:[{id:"intro",name:"countdown",duration:10,minutes:0,seconds:10,intervals:1,completed:!1}]})},e.continueTimer=function(){e.startTimer();var t=e.state.time;t.set=!t.set,e.setState({timerOn:!0,activeTimerOn:!0,timerStop:!1,time:t})},e.resetTimer=function(){e.stopTime();var t=e.state.time;t.set=!t.set,e.setState({timerOn:!1,poses:e.state.OGposes,time:e.state.OGtime,activePose:{name:"program reset",duration:0,completed:!1}})},e.updateNewPose=function(t,n){var s=Object(l.a)({},e.state.newPose);s[n]=t,e.setState({newPose:s})},e.addNewPose=function(t){var n=[].concat(Object(u.a)(e.state.poses),Object(u.a)(t));e.setState({poses:n});var s=b(n);e.setState({intervalTotalTime:s})},e.deletePose=function(t){var n,s=Object(u.a)(e.state.poses);s.splice(t,1),n=s.length<1?{duration:0,hours:0,minutes:0,seconds:0}:b(s),e.setState({intervalTotalTime:n,poses:s})},e.movePosition=function(t,n){var s=function(e,t,n){var s=t+n,a=e.splice(t,1);return e.splice(s,0,a[0]),e}(Object(u.a)(e.state.poses),t,n);e.setState({poses:s})},e.handleOnDragEnd=function(t){if(t.destination){var n=Object(u.a)(e.state.poses),s=n.splice(t.source.index,1),a=Object(c.a)(s,1)[0];n.splice(t.destination.index,0,a),e.setState({poses:n})}},e.KeyPressPause=function(t){if(e.state.timerOn){var n=!e.state.timerPause;e.setState({timerPause:n})}},e.state={backgrounds:{image:R,change:!1},time:{duration:0,hours:0,minutes:0,seconds:0,set:!1},intervalTotalTime:{duration:0,hours:0,minutes:0,seconds:0},break:{duration:10},poses:[{id:"intro",name:"countdown",duration:10,minutes:0,seconds:10,intervals:1,completed:!1}],OGposes:[],OGtime:{},newPose:{name:"",duration:"",minutes:0,seconds:0,intervals:1,completed:!1},timerOn:!1,activeTimerOn:!1,timerPause:!1,activePose:{},timerStop:!1,alert:"red"},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.KeyPressPause);var e=localStorage.getItem("program"),t=localStorage.getItem("OGprogram");if(e){var n=JSON.parse(e),s=JSON.parse(t),a=b(n);this.setState({poses:n,OGposes:s,intervalTotalTime:a})}}},{key:"componentDidUpdate",value:function(){localStorage.setItem("program",JSON.stringify(this.state.poses)),localStorage.setItem("OGprogram",JSON.stringify(this.state.OGposes))}},{key:"componentWillUnmount",value:function(){document.addEventListener("keydown",this.KeyPressPause)}},{key:"render",value:function(){var e=Object(s.jsx)("h3",{children:v(this.state.intervalTotalTime.duration)});return Object(s.jsxs)("div",{id:"page",style:{backgroundImage:"url("+this.state.backgrounds.image+")"},children:[Object(s.jsx)(k,{onClick:this.changeBackground}),this.state.activeTimerOn?Object(s.jsx)(x,{activePose:this.state.activePose,timerPause:this.state.timerPause,pauseTimer:this.pauseTimer}):Object(s.jsx)(f,{timerOn:this.state.timerOn,newTime:this.newTime}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{id:"task-info",children:[this.state.time.set?Object(s.jsx)(w,{time:this.state.time,timerOn:this.state.timerOn,startTimer:this.startTimer,resetTimer:this.resetTimer,stopTime:this.stopTime,newTime:this.newTime}):Object(s.jsx)(C,{time:this.state.time,updateTime:this.updateTime,setTime:this.setTime,timerStop:this.state.timerStop,continueTimer:this.continueTimer}),this.state.timerOn?null:Object(s.jsx)(P,{updateNewPose:this.updateNewPose,addNewPose:this.addNewPose,break:this.state.break,clearAll:this.clearAll})]}),Object(s.jsxs)("div",{id:"timer-list",children:[Object(s.jsx)("h2",{children:"Current Plan"}),e,Object(s.jsx)(y,{poses:this.state.poses,deletePose:this.deletePose,movePosition:this.movePosition,handleOnDragEnd:this.handleOnDragEnd})]})]})]})}}]),n}(a.Component);o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(A,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.6ecae935.chunk.js.map